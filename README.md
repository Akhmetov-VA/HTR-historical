# Распознавание исторических документов
python 3.11

### Инструкции для запуска

---

1. Установить зависимости.

```shell
pip install poetry==1.8.2
poetry install
```

2. Скачать датасет с изображениями с Я.Диска архивом и распаковать его 
в директорию data/raw чтобы получилась следующая структура данных:

```
data
└──raw
    └── Распознавание текстов
        ├── Губернаторские отчеты
        │    ├── Архангельская 1861
        │    ├── Архангельская 1867
        │    ├── Астраханская 1846, 1853
        │    ├── Воронежская 1835
        │    ├── Екатеринославская 1823
        │    ├── Екатеринославская 1841
        │    ├── Кавказская 1839
        │    ├── Калужская 1832
        │    ├── Ковенская 1842-43
        │    ├── Могилевская 1833-35
        │    ├── Московская 1808
        │    ├── Московская 1811
        │    ├── Московская 1828-29
        │    ├── Московская 1839
        │    ├── Нижегородская 1826
        │    ├── Оренбургская 1838
        │    ├── Орловская 1821-22
        │    ├── Приморская 1876
        │    ├── Рязанская 1804, 1807, 1839
        │    ├── Рязанская 1813
        │    ├── Рязанская 1844
        │    ├── Рязанская 1863
        │    ├── Санкт-Петербургская 1874
        │    ├── Таганрогское градоначальство 1838
        │    ├── Тамбовская 1815
        │    ├── Тобольская 1882
        │    ├── Тульская 1881
        │    ├── Харьковская 1847
        │    └── Ярославская 1804
        ├── Уставные грамоты – Афанасенков
        └── Уставные грамоты в jpg (Просветов)
            └── Обработка
                └── Просветов (13.12)
```

3. Запускать ноутбуки необходимо в том порядке, в котором они пронумерованы.

4. После обучения модели мы получим артефакты их необходимо перенести в models

5. Запуск приложения:
    1) Создаем сессию ```screen -S my_session```
    2) В этой сессии запускаем приложение ```streamlit run app/web.py --server.port 27366```
    3) В случае необходимости подключиться обратно ```screen -r my_session```